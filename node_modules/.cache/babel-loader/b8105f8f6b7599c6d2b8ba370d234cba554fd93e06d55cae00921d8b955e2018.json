{"ast":null,"code":"var _jsxFileName = \"/Users/leonardogsouza/Downloads/ondetemsinuca/src/App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = \"lugaresSinuca\";\nexport default function SinucaMap() {\n  _s();\n  const mapRef = useRef(null);\n  const [lugares, setLugares] = useState(() => {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [{\n      nome: \"Bar do Zé\",\n      coords: [-23.5587, -46.6253],\n      descricao: \"Mesa oficial e cerveja gelada.\"\n    }, {\n      nome: \"Boteco da Esquina\",\n      coords: [-23.5432, -46.6388],\n      descricao: \"Mesa de sinuca e música ao vivo.\"\n    }];\n  });\n  const [novoLugar, setNovoLugar] = useState({\n    nome: \"\",\n    descricao: \"\",\n    coords: null\n  });\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(lugares));\n  }, [lugares]);\n  useEffect(() => {\n    if (mapRef.current) return;\n    const map = L.map(\"map\");\n    mapRef.current = map;\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(map);\n    map.on(\"click\", function (e) {\n      setNovoLugar(prev => ({\n        ...prev,\n        coords: [e.latlng.lat, e.latlng.lng]\n      }));\n    });\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => {\n        const {\n          latitude,\n          longitude\n        } = pos.coords;\n        map.setView([latitude, longitude], 14);\n      }, () => {\n        map.setView([-23.5505, -46.6333], 12);\n      });\n    } else {\n      map.setView([-23.5505, -46.6333], 12);\n    }\n  }, []);\n  useEffect(() => {\n    if (!mapRef.current) return;\n    mapRef.current.eachLayer(layer => {\n      if (layer instanceof L.Marker) mapRef.current.removeLayer(layer);\n    });\n    lugares.forEach(lugar => {\n      L.marker(lugar.coords).addTo(mapRef.current).bindPopup(`<b>${lugar.nome}</b><br>${lugar.descricao}`);\n    });\n  }, [lugares]);\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (novoLugar.nome && novoLugar.descricao && novoLugar.coords) {\n      setLugares([...lugares, novoLugar]);\n      setNovoLugar({\n        nome: \"\",\n        descricao: \"\",\n        coords: null\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full h-screen flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bg-green-600 text-white text-center py-4 shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Onde Tem Sinuca?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col md:flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-2/3 h-2/3 md:h-full\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"map\",\n          className: \"w-full h-full rounded-xl shadow-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-1/3 p-4 bg-white shadow-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Adicionar novo local\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Nome do bar\",\n            className: \"w-full p-2 border rounded\",\n            value: novoLugar.nome,\n            onChange: e => setNovoLugar({\n              ...novoLugar,\n              nome: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Descri\\xE7\\xE3o\",\n            className: \"w-full p-2 border rounded\",\n            value: novoLugar.descricao,\n            onChange: e => setNovoLugar({\n              ...novoLugar,\n              descricao: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-green-600 text-white p-2 rounded disabled:opacity-50\",\n            disabled: !novoLugar.coords,\n            children: \"Adicionar ao mapa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), !novoLugar.coords && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: \"Clique em algum ponto do mapa para marcar a localiza\\xE7\\xE3o.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(SinucaMap, \"CAd+TNFSYpG9iRCqHaxa/tpTeU4=\");\n_c = SinucaMap;\nvar _c;\n$RefreshReg$(_c, \"SinucaMap\");","map":{"version":3,"names":["useEffect","useRef","useState","L","jsxDEV","_jsxDEV","STORAGE_KEY","SinucaMap","_s","mapRef","lugares","setLugares","data","localStorage","getItem","JSON","parse","nome","coords","descricao","novoLugar","setNovoLugar","setItem","stringify","current","map","tileLayer","attribution","addTo","on","e","prev","latlng","lat","lng","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","setView","eachLayer","layer","Marker","removeLayer","forEach","lugar","marker","bindPopup","handleSubmit","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","onSubmit","type","placeholder","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["/Users/leonardogsouza/Downloads/ondetemsinuca/src/App.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\n\nconst STORAGE_KEY = \"lugaresSinuca\";\n\nexport default function SinucaMap() {\n  const mapRef = useRef(null);\n  const [lugares, setLugares] = useState(() => {\n    const data = localStorage.getItem(STORAGE_KEY);\n    return data ? JSON.parse(data) : [\n      {\n        nome: \"Bar do Zé\",\n        coords: [-23.5587, -46.6253],\n        descricao: \"Mesa oficial e cerveja gelada.\"\n      },\n      {\n        nome: \"Boteco da Esquina\",\n        coords: [-23.5432, -46.6388],\n        descricao: \"Mesa de sinuca e música ao vivo.\"\n      }\n    ];\n  });\n  const [novoLugar, setNovoLugar] = useState({ nome: \"\", descricao: \"\", coords: null });\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(lugares));\n  }, [lugares]);\n\n  useEffect(() => {\n    if (mapRef.current) return;\n\n    const map = L.map(\"map\");\n    mapRef.current = map;\n\n    L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n      attribution:\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(map);\n\n    map.on(\"click\", function (e) {\n      setNovoLugar((prev) => ({ ...prev, coords: [e.latlng.lat, e.latlng.lng] }));\n    });\n\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((pos) => {\n        const { latitude, longitude } = pos.coords;\n        map.setView([latitude, longitude], 14);\n      }, () => {\n        map.setView([-23.5505, -46.6333], 12);\n      });\n    } else {\n      map.setView([-23.5505, -46.6333], 12);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n    mapRef.current.eachLayer((layer) => {\n      if (layer instanceof L.Marker) mapRef.current.removeLayer(layer);\n    });\n\n    lugares.forEach((lugar) => {\n      L.marker(lugar.coords).addTo(mapRef.current)\n        .bindPopup(`<b>${lugar.nome}</b><br>${lugar.descricao}`);\n    });\n  }, [lugares]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (novoLugar.nome && novoLugar.descricao && novoLugar.coords) {\n      setLugares([...lugares, novoLugar]);\n      setNovoLugar({ nome: \"\", descricao: \"\", coords: null });\n    }\n  }\n\n  return (\n    <div className=\"w-full h-screen flex flex-col\">\n      <header className=\"bg-green-600 text-white text-center py-4 shadow-md\">\n        <h1 className=\"text-2xl font-bold\">Onde Tem Sinuca?</h1>\n      </header>\n      <div className=\"flex-1 flex flex-col md:flex-row\">\n        <div className=\"w-full md:w-2/3 h-2/3 md:h-full\">\n          <div id=\"map\" className=\"w-full h-full rounded-xl shadow-lg\"></div>\n        </div>\n        <div className=\"w-full md:w-1/3 p-4 bg-white shadow-xl\">\n          <h2 className=\"text-xl font-bold mb-4\">Adicionar novo local</h2>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Nome do bar\"\n              className=\"w-full p-2 border rounded\"\n              value={novoLugar.nome}\n              onChange={(e) => setNovoLugar({ ...novoLugar, nome: e.target.value })}\n            />\n            <textarea\n              placeholder=\"Descrição\"\n              className=\"w-full p-2 border rounded\"\n              value={novoLugar.descricao}\n              onChange={(e) => setNovoLugar({ ...novoLugar, descricao: e.target.value })}\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full bg-green-600 text-white p-2 rounded disabled:opacity-50\"\n              disabled={!novoLugar.coords}\n            >\n              Adicionar ao mapa\n            </button>\n            {!novoLugar.coords && (\n              <p className=\"text-sm text-gray-600\">Clique em algum ponto do mapa para marcar a localização.</p>\n            )}\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}